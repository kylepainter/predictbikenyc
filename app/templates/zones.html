{% extends "base.html" %}
{% block extrascript %}
  <style type="text/css">
    .element  { position:fixed; top:15%; right:2%; padding:10px; font-family:Arial; background:#fffea1; border:1px solid #fc0; text-align: justify;}
    .zone1 { color: white; background-color: #0000ff; }
    .zone2 { color: white; background-color: #008000; }
    .zone3 { background-color: #FF0000; }
    .zone4 { background-color: #00FFFF; }
    .zone5 { color: white; background-color: #EE00EE; }
    .zone6 { background-color: #FFFF00; }
  </style>
  <style type="text/css">
    
    body {

    background: url({{ url_for('static', filename = 'img/zone_background.jpg') }}) no-repeat;
background-size:cover;
    background-attachment:fixed;
    background-position: left top;
    position:absolute;
    height:1010px
    width: ?px;
    margin:0;

  }

    #canvas {
      margin-top: 30px;
      margin-bottom: 30px;

    }
    #map-canvas {
      width: 300px;
      height: 400px;

    }
    #start_latlong {
      width: 285px;
    }
    #end_latlong {
      width: 285px;
    }

.box {
background-color: #D4D4D4;
margin: 0px auto;
padding-right:24px;
padding-left:24px;
opacity:.95;
}

  </style>
  <script type="text/javascript"
    src="https://maps.googleapis.com/maps/api/js?key={{ googleapikey }}">
  </script>
  <script type="text/javascript">

    function initialize() {

 
      var styles = [
        {
          featureType: "poi",
          stylers: [
            { visibility: "off" }
          ]
        },{
          featureType: "transit",
          stylers: [
            { visibility: "off" }
          ]
        }
      ];

      var mapOptions = {
        center: { lat: 40.73649403, lng: -73.99004374},
        zoom: 12,
        zoomControl: false,
        scrollwheel: false,
        navigationControl: false,
        mapTypeControl: false,
        scaleControl: false,
        draggable: false,
        disableDoubleClickZoom: true,      
        streetViewControl: false,
      };
      var map = new google.maps.Map(document.getElementById('map-canvas'),
          mapOptions);
      map.setOptions({styles: styles}); 

        var locations = 
        [[40.767272159999997, -73.993928879999999, 4],
         [40.719115520000003, -74.006666609999996, 1],
         [40.711174159999999, -74.000165449999997, 3],
         [40.741776029999997, -74.001497459999996, 4],
         [40.731724280000002, -74.006744359999999, 2],
         [40.72710258, -74.002970880000007, 2],
         [40.761628000000002, -73.972924000000006, 5],
         [40.716250080000002, -74.009105899999994, 1],
         [40.715421970000001, -74.011219780000005, 1],
         [40.720873600000004, -73.980857950000001, 3],
         [40.721815800000002, -73.997203069999998, 2],
         [40.71473993, -74.009106270000004, 1],
         [40.752062306999996, -73.981632404300001, 5],
         [40.748238000000001, -73.978311000000005, 6],
         [40.729170250000003, -73.998102309999993, 2],
         [40.753230979999998, -73.970325169999995, 6],
         [40.748900599999999, -73.976048820000003, 6],
         [40.739713010000003, -73.994564049999994, 5],
         [40.760646790000003, -73.984426589999998, 5],
         [40.738176500000002, -73.977386620000004, 6],
         [40.709056230000002, -74.010433820000003, 1],
         [40.743349350000003, -74.006817530000006, 4],
         [40.737815089999998, -73.999946609999995, 2],
         [40.711463639999998, -74.005524269999995, 1],
         [40.741951380000003, -74.008030129999995, 2],
         [40.754601102599999, -73.971878855, 6],
         [40.72743423, -73.993790250000004, 2],
         [40.728418599999998, -73.987139560000003, 3],
         [40.730473089999997, -73.986723780000005, 3],
         [40.736196700000001, -74.008592070000006, 2],
         [40.735353979999999, -74.004830909999995, 2],
         [40.721853789999997, -74.007717790000001, 1],
         [40.718709869999998, -74.009000900000004, 1],
         [40.724560889999999, -73.995652930000006, 2],
         [40.72317958, -73.994800119999994, 2],
         [40.732263979999999, -73.998522050000005, 2],
         [40.73532427, -73.998004190000003, 2],
         [40.719392259999999, -74.002472139999995, 1],
         [40.701221279999999, -74.012342180000005, 1],
         [40.703651819999997, -74.011677969999994, 1],
         [40.717290000000006, -73.996375, 2],
         [40.707064559999999, -74.007318530000006, 1],
         [40.722293460000003, -73.991475350000002, 3],
         [40.723683610000002, -73.975748129999999, 3],
         [40.750977110000001, -73.987654280000001, 5],
         [40.719105370000001, -73.999733370000001, 2],
         [40.717487519999999, -74.010455399999998, 1],
         [40.707872999999999, -74.00166999999999, 1],
         [40.73331967, -73.995101320000003, 2],
         [40.764397100000004, -73.973714650000005, 5],
         [40.739016912099999, -74.002637610299999, 2],
         [40.734545670000003, -73.990741420000006, 2],
         [40.760202579999998, -73.964784730000005, 6],
         [40.713126000000003, -73.984843999999995, 3],
         [40.730286659999997, -73.9907647, 2],
         [40.730493930000002, -73.995721400000008, 2],
         [40.714066670000001, -73.992939109999995, 3],
         [40.71413089, -73.997046799999993, 3],
         [40.734231999999999, -73.986923000000004, 6],
         [40.728144999999998, -73.990213999999995, 3],
         [40.722174440000003, -73.983687790000005, 3],
         [40.720828339999997, -73.977931720000001, 3],
         [40.723627380000003, -73.999496010000001, 2],
         [40.704633340000001, -74.013617060000001, 1],
         [40.760957560000001, -73.967244669999999, 6],
         [40.708235019999996, -74.005300629999994, 1],
         [40.714274869999997, -73.989900250000005, 3],
         [40.713079159999999, -73.998511930000006, 3],
         [40.714978700000003, -74.013012000000003, 1],
         [40.717227399999999, -73.988020840000004, 3],
         [40.722054999999997, -73.989110999999994, 3],
         [40.703553769999999, -74.006702270000005, 1],
         [40.709559579999997, -74.006536089999997, 1],
         [40.724537339999998, -73.981854240000004, 3],
         [40.753201590000003, -73.977987400000004, 5],
         [40.717571, -74.005549000000002, 1],
         [40.736245269999998, -73.98473765, 6],
         [40.72953837, -73.984267259999996, 3],
         [40.715337899999994, -74.016583539999999, 1],
         [40.724055489999998, -74.009659650000003, 1],
         [40.720434109999999, -74.010206089999997, 1],
         [40.714504509999998, -74.00562789, 1],
         [40.711731069999999, -73.991930429999996, 3],
         [40.712199060000003, -73.979481480000004, 3],
         [40.742387870000002, -73.99726235, 5],
         [40.72903917, -73.994046490000002, 2],
         [40.730477469999997, -73.999060650000004, 2],
         [40.703799200000006, -74.008386759999993, 1],
         [40.725806140000003, -73.974224939999999, 3],
         [40.712690420000001, -73.987763229999999, 3],
         [40.717821430000001, -73.976289390000005, 3],
         [40.717399729999997, -73.980165549999995, 3],
         [40.736494030000003, -73.997043739999995, 2],
         [40.736528890000002, -74.006180259999994, 2],
         [40.728738880000002, -74.007488420000001, 2],
         [40.724909850000003, -74.001547020000004, 2],
         [40.718502110000003, -73.983298590000004, 3],
         [40.715595090000001, -73.987029500000006, 3],
         [40.705309999999997, -74.006125999999995, 1],
         [40.76340613, -73.977224789999994, 5],
         [40.716021179999998, -73.999743719999998, 3],
         [40.71622644, -73.982612059999994, 3],
         [40.732617869999999, -73.991580429999999, 2],
         [40.73291553, -74.007113840000002, 2],
         [40.755102669999999, -73.974986959999995, 5],
         [40.707179359999998, -74.008873080000001, 1],
         [40.716058660000002, -73.991907589999997, 3],
         [40.751726320000003, -73.987535230000006, 5],
         [40.708346980000002, -74.01713445, 1],
         [40.758280650000003, -73.970694309999999, 6],
         [40.730385990000002, -74.002149880000005, 2],
         [40.732241190000003, -74.000263939999996, 2],
         [40.72679454, -73.996950940000005, 2],
         [40.708621440000002, -74.007221560000005, 1],
         [40.722437970000001, -74.005664429999996, 2],
         [40.749155999999999, -73.991600000000005, 5],
         [40.734011430000002, -74.00293877, 2],
         [40.734926950000002, -73.992005090000006, 2],
         [40.735238000000003, -74.000270999999998, 2],
         [40.757973219999997, -73.966033080000003, 6],
         [40.714948069999998, -74.002344820000005, 1],
         [40.71273266, -74.004607300000004, 1],
         [40.749717752999999, -74.002950346000006, 4],
         [40.722992079999997, -73.979954660000004, 3],
         [40.725213109999999, -73.977687520000003, 3],
         [40.719260810000002, -73.981780240000006, 3],
         [40.720195760000003, -73.989978249999993, 3],
         [40.740343200000005, -73.989551090000006, 5],
         [40.725028760000001, -73.990696560000004, 3],
         [40.740582600000003, -74.005508669999998, 2],
         [40.739322999999999, -74.008118999999994, 2],
         [40.710762279999997, -73.994003980000002, 3],
         [40.720664419999999, -73.985179770000002, 3],
         [40.722280869999999, -73.976687089999999, 3],
         [40.715815500000005, -73.994223660000003, 3],
         [40.704717700000003, -74.009260269999999, 1],
         [40.712912240000001, -74.010202340000006, 1],
         [40.770513000000001, -73.988038000000003, 4],
         [40.765849410000001, -73.986905059999998, 4],
         [40.71754834, -74.013220689999997, 1],
         [40.701906999999999, -74.013942, 1],
         [40.724677210000003, -73.987834129999996, 3],
         [40.72621788, -73.983798550000003, 3],
         [40.729553610000004, -73.98057249, 3],
         [40.743174490000001, -74.003664430000001, 4],
         [40.741739690000003, -73.994155559999996, 5],
         [40.727791259999996, -73.985649449999997, 3],
         [40.726280700000004, -73.989780409999995, 3],
         [40.752554340000003, -73.972826249999997, 6],
         [40.756014, -73.967416, 6],
         [40.746646999999996, -73.993915000000001, 5],
         [40.742354299999995, -73.989150760000001, 5],
         [40.727407939999999, -73.981420060000005, 3],
         [40.744876339999998, -73.995298849999998, 5],
         [40.76370739, -73.985161500000004, 4],
         [40.756603589999997, -73.997900900000005, 4],
         [40.764618370000001, -73.987894729999994, 4],
         [40.76227205, -73.987882049999996, 4],
         [40.744751479999998, -73.999153620000001, 4],
         [40.754557310000003, -73.965929759999995, 6],
         [40.750019860000002, -73.969053009999996, 6],
         [40.759710799999993, -73.974023110000005, 5],
         [40.766953170000001, -73.981693329999999, 5],
         [40.751396, -74.005226000000008, 4],
         [40.746745000000004, -74.007756000000001, 4],
         [40.735876779999998, -73.982050270000002, 6],
         [40.746919589999997, -74.004518869999998, 4],
         [40.74206539, -74.004431719999999, 4],
         [40.759345009999997, -73.967596729999997, 6],
         [40.75513557, -73.986580320000002, 5],
         [40.743954109999997, -73.99144871, 5],
         [40.765265399999997, -73.981923379999998, 5],
         [40.763440580000001, -73.982681290000002, 5],
         [40.743453350000003, -74.000040310000003, 4],
         [40.745712100000006, -73.981948290000005, 5],
         [40.721100630000002, -73.991925400000014, 3],
         [40.745167700000003, -73.986830769999997, 5],
         [40.735242759999998, -73.987585609999996, 6],
         [40.743943139999999, -73.979660690000003, 6],
         [40.756405479999998, -73.990026200000003, 5],
         [40.760300960000002, -73.99884222, 4],
         [40.760192519999997, -73.991255100000004, 4],
         [40.766696709999998, -73.990617279999995, 4],
         [40.739355420000003, -73.999317829999995, 5],
         [40.732232719999999, -73.988899570000001, 3],
         [40.75500254, -73.980144370000005, 5],
         [40.75038009, -73.983389880000004, 5],
         [40.746200899999998, -73.988557229999998, 5],
         [40.73314259, -73.975738809999996, 6],
         [40.756458240000001, -73.993722219999995, 4],
         [40.750663860000003, -74.00176802, 4],
         [40.751550999999999, -73.993933999999996, 4],
         [40.740963739999998, -73.986022129999995, 5],
         [40.750199950000003, -73.990930849999998, 5],
         [40.7568001, -73.982911529999996, 5],
         [40.747348250000002, -73.997235509999996, 4],
         [40.762698819999997, -73.993012219999997, 4],
         [40.737261859999997, -73.992389669999994, 5],
         [40.737049839999997, -73.990092959999998, 5],
         [40.748548620000001, -73.98808416, 5],
         [40.769155050000002, -73.981918410000006, 4],
         [40.762288259999998, -73.983361830000007, 5],
         [40.744219000000001, -73.971212140000006, 6],
         [40.714215000000003, -73.981346000000002, 3],
         [40.738274279999999, -73.987519680000005, 5],
         [40.732218529999997, -73.981655570000001, 6],
         [40.749012710000002, -73.988483950000003, 5],
         [40.73912601, -73.979737760000006, 6],
         [40.763413790000001, -73.996674440000007, 4],
         [40.745497299999997, -74.001971389999994, 4],
         [40.760659699999998, -73.980420469999999, 5],
         [40.729386849999997, -73.977724289999998, 6],
         [40.750072700000004, -73.998392789999997, 4],
         [40.768253999999999, -73.988639000000006, 4],
         [40.76087502, -74.002776679999997, 4],
         [40.760094369999997, -73.994618430000003, 4],
         [40.752068620000003, -73.96784384, 6],
         [40.751581000000002, -73.977909999999994, 5],
         [40.747803730000001, -73.973441900000012, 6],
         [40.751872999999996, -73.977706000000012, 5],
         [40.759922619999998, -73.976485159999996, 5],
         [40.750967348700001, -73.994442075500004, 4],
         [40.757147580000002, -73.972078359999998, 5],
         [40.75466591, -73.991381520000004, 5],
         [40.755273070000001, -73.983169360000005, 5],
         [40.755941589999999, -74.002116299999997, 4],
         [40.747659470000002, -73.984907070000006, 5],
         [40.744022999999999, -73.976056, 6],
         [40.742909019999999, -73.97706058, 6],
         [40.757569899999993, -73.990985069999994, 4],
         [40.771521999999997, -73.990541000000007, 4],
         [40.718939040000002, -73.992662879999997, 3],
         [40.752996410000002, -73.987216189999998, 5],
         [40.702550649999999, -74.012723399999999, 1],
         [40.741443869999998, -73.975360820000006, 6],
         [40.740258779999998, -73.984092140000001, 6],
         [40.756659999999997, -73.976683999999992, 5],
         [40.736502000000002, -73.978094720000001, 6],
         [40.744449209999999, -73.983035290000004, 5],
         [40.724398999999998, -74.004704000000004, 2],
         [40.765909360000002, -73.976341509999997, 5],
         [40.705692540000001, -74.016776849999999, 1],
         [40.711174440000001, -73.996826189999993, 3],
         [40.721654809999997, -74.002347369999995, 2],
         [40.739445000000003, -73.97680600000001, 6],
         [40.750223920000003, -73.971214140000001, 6],
         [40.759291240000003, -73.988596509999994, 4],
         [40.758491159999998, -73.959206219999999, 6],
         [40.759680850000002, -73.970313660000002, 5],
         [40.711511999999999, -74.01575600000001, 1]]
        ;

        var icons =  {};
        icons[1] = 'http://maps.google.com/mapfiles/ms/icons/blue-dot.png';
        icons[2] = 'http://maps.google.com/mapfiles/ms/icons/green-dot.png';
        icons[3] = 'http://maps.google.com/mapfiles/ms/icons/red-dot.png';
        icons[4] = 'http://maps.google.com/mapfiles/ms/icons/ltblue-dot.png';
        icons[5] = 'http://maps.google.com/mapfiles/ms/icons/pink-dot.png';
        icons[6] = 'http://maps.google.com/mapfiles/ms/icons/yellow-dot.png';

        var marker, i;

        for (i = 0; i < locations.length; i++) {  
            marker = new google.maps.Marker({
            position: new google.maps.LatLng(locations[i][0], locations[i][1]),
            map: map,
            icon: icons[locations[i][2]]
            });
        }
    }

    function placeMarker(position, map) {
      marker = new google.maps.Marker({
        position: position,
        map: map
      });
      
    }

    google.maps.event.addDomListener(window, 'load', initialize);

  </script>



  
{% endblock %}

{% block content %}
  <div class="collapse navbar-collapse">
        <!-- doesn't collapse gracefully -->
    <div class="element">
      <ul> <u>Zone legend</u>: &nbsp;</ul> 
      <ul> <span class="zone1">&nbsp; Zone 1 ~ Downtown &nbsp;</span></ul>
      <ul> <span class="zone2">&nbsp; Zone 2 ~ West Village &nbsp;</span></ul>
      <ul> <span class="zone3">&nbsp; Zone 3 ~ Lower East Side &nbsp;</span></ul>
      <ul> <span class="zone4">&nbsp; Zone 4 ~ Hudson River &nbsp;</span></ul>
      <ul> <span class="zone5">&nbsp; Zone 5 ~ Midtown &nbsp;</span></ul>
      <ul> <span class="zone6">&nbsp; Zone 6 ~ East River &nbsp;</span></ul>
    </div>
  </div>



  <div class="container">
    <div class="row">
      <div class="col-md-2">
      </div>
      <div class="col-md-8 box">

      <h3>Geographic zone analysis</h3>
      <p>
        The area of Manhattan south of Central Park was split into six geographic zones of similar size. The zones roughly correlate to the official <a href="http://www.nyc.gov/html/dcp/html/neighbor/index.shtml">community districts</a> mapped out by the city of New York, as seen below. The citibike stations were then coded according to those zones (below on right).

      </p>
    </div>
</div>
<br/>
<div class="row">
    <div class="col-md-2">
    </div>
    <div class="col-md-4 box canvas">
</br>
      <img src="{{ url_for('static', filename = 'img/manhattan_community_districts.png' % i) }}" height="400">
</br></br>
    </div>
    <div class="col-md-4 box canvas">      
</br>
        <div id="map-canvas"></div>
</br>
    </div>

</div>
        <br/>        <br/> <br/>        <br/> <br/> <br/> <br/>
    <div class="row">
      <div class="col-md-2">
      </div>
      <div class="col-md-8 box">
      <h3>Speed and trip volume between zones.</h3>
      <p>
          Coding by zone allows us to see traffic patterns within and across zone, as well as average speed. As can be seen below, traffic is usually highest within a given zone, although traffic to Midtown spikes in the morning and evening commutes, especially from adjacent zones. Also of note is that average speed within a given zone tends to be slower than trips across zones; this could occur because over longer distance trips, riders tend to have more freedom to adjust their routes to deal with adverse conditions, like long stoplights or traffic.
      </p>
      </div>

    </div>


 <br/> 
    <div class="row">
      <div class="col-md-2">
      </div>
      <div class="col-md-8">

        {% for i in range(1,7) %}
        <img src="{{ url_for('static', filename = 'img/zoneplot%d.png' % i) }}" height="300">
        <br/> <br/>
        {% endfor %}
      </div>

    </div>

  </div>



  {% endblock %}